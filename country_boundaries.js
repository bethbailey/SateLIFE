// AUTHOR: Cooper Nederhood, all code original
/* CODE PURPOSE: because GPS data for Brazzaville and the river are not available through OpenStreetMaps
    this code contains hand-drawn feature polygons within Google EE which are then exported as tiff files
    for analysis
*/
var export_geometry = ee.Geometry.Rectangle([14.886474609375, -4.96235131753212, 16.2432861328125, -3.6422587707313987]);

Map.addLayer(export_geometry);

Map.setCenter(15.3013891, -4.3854713);
var country_BRAZZAVILLE = ee.Geometry.Polygon([[14.883556365966797, -4.716040273418243],
           [14.895744323730469, -4.686784944058774],
           [14.910163879394531, -4.667622894516171],
           [14.934024810791016, -4.65205334388178],
           [14.945182800292969, -4.6399054333506875],
           [14.948272705078125, -4.632719246993561],
           [14.964923858642578, -4.622110933679398],
           [14.980201721191406, -4.6070537002876035],
           [14.984149932861328, -4.601920479606085],
           [14.987068176269531, -4.584809476879229],
           [14.996337890625, -4.576767163941701],
           [15.00509262084961, -4.567013599355191],
           [15.010757446289062, -4.555377594450045],
           [15.014362335205078, -4.554350879088402],
           [15.017280578613281, -4.553666401366435],
           [15.020370483398438, -4.550415123295039],
           [15.022430419921875, -4.5488750390829376],
           [15.025348663330078, -4.541345691100498],
           [15.033073425292969, -4.531762770930597],
           [15.036849975585938, -4.534500761096614],
           [15.041484832763672, -4.534500761096614],
           [15.045433044433594, -4.530393771958317],
           [15.059680938720703, -4.5161902548267],
           [15.063972473144531, -4.515163483762617],
           [15.076847076416016, -4.503526643564133],
           [15.084571838378906, -4.49719475522267],
           [15.088005065917969, -4.494970024627438],
           [15.103111267089844, -4.483161725562606],
           [15.12319564819336, -4.449447127661223],
           [15.123710632324219, -4.441745606554418],
           [15.13315200805664, -4.43062104524683],
           [15.13418197631836, -4.428396112888443],
           [15.13864517211914, -4.420694372308226],
           [15.141048431396484, -4.418469410122699],
           [15.146026611328125, -4.410938719360122],
           [15.147571563720703, -4.412992551691068],
           [15.154438018798828, -4.40820026741857],
           [15.156841278076172, -4.40238102354896],
           [15.159416198730469, -4.402894488074537],
           [15.162677764892578, -4.396390577918904],
           [15.171775817871094, -4.389373137513847],
           [15.173320770263672, -4.385094178052473],
           [15.172119140625, -4.3825267906115535],
           [15.167827606201172, -4.380301714364071],
           [15.165939331054688, -4.376365024790475],
           [15.161819458007812, -4.374139930221434],
           [15.166969299316406, -4.370203208255389],
           [15.170917510986328, -4.366779954959629],
           [15.171775817871094, -4.361816209941724],
           [15.17538070678711, -4.361816209941724],
           [15.180530548095703, -4.357537093081263],
           [15.183448791503906, -4.350861622160531],
           [15.179672241210938, -4.347951782978747],
           [15.178298950195312, -4.344014923849819],
           [15.183448791503906, -4.340591551381907],
           [15.183448791503906, -4.332888906582436],
           [15.1885986328125, -4.330834854712597],
           [15.197010040283203, -4.321591552324342],
           [15.195465087890625, -4.318510426474378],
           [15.197525024414062, -4.31714103319095],
           [15.203361511230469, -4.320050990963939],
           [15.208854675292969, -4.3197086435699745],
           [15.209197998046875, -4.314402239212571],
           [15.21331787109375, -4.315429288112242],
           [15.21881103515625, -4.310978732851042],
           [15.223617553710938, -4.313375188923979],
           [15.225677490234375, -4.316456335622656],
           [15.229110717773438, -4.310978732851042],
           [15.256061553955078, -4.3058434443993],
           [15.266704559326172, -4.291464452501459],
           [15.271339416503906, -4.2839324914737],
           [15.2874755859375, -4.27622927279685],
           [15.289192199707031, -4.274175068065024],
           [15.296745300292969, -4.270751381281479],
           [15.300521850585938, -4.262534470691645],
           [15.300521850585938, -4.253632718443322],
           [15.30670166015625, -4.24764109649803],
           [15.302410125732422, -4.239595130978847],
           [15.303268432617188, -4.2277828171330585],
           [15.306873321533203, -4.224016534264633],
           [15.314254760742188, -4.223502948820042],
           [15.315284729003906, -4.215970323262111],
           [15.31768798828125, -4.209807211682687],
           [15.314769744873047, -4.198679247783656],
           [15.316658020019531, -4.1890919516374945],
           [15.324897766113281, -4.177963692710745],
           [15.324382781982422, -4.17248510721478],
           [15.329704284667969, -4.16426715732929],
           [15.343780517578125, -4.1545082303880045],
           [15.35837173461914, -4.151597649842574],
           [15.372962951660156, -4.150056749914326],
           [15.386695861816406, -4.144064332730507],
           [15.388240814208984, -4.138071870137184],
           [15.387554168701172, -4.131394501265228],
           [15.390129089355469, -4.123518558045141],
           [15.396652221679688, -4.122662472554681],
           [15.407638549804688, -4.124032208896808],
           [15.423603057861328, -4.120950298808012],
           [15.434589385986328, -4.121977603498474],
           [15.446605682373047, -4.125059509604007],
           [15.458106994628906, -4.131223285939257],
           [15.462226867675781, -4.129168699145513],
           [15.473899841308594, -4.124888292911721],
           [15.480766296386719, -4.120779081230578],
           [15.492439270019531, -4.105883011051809],
           [15.49844741821289, -4.090644214818227],
           [15.503597259521484, -4.075233901391136],
           [15.512523651123047, -4.064960194979244],
           [15.523681640625, -4.059994523262634],
           [15.545310974121094, -4.037220534660494],
           [15.565738677978516, -4.020953008559783],
           [15.59011459350586, -4.017356985242531],
           [15.610198974609375, -4.01410342667769],
           [15.67972183227539, -3.9875607550126797],
           [15.700492858886719, -3.9851633101186374],
           [15.762977600097656, -3.9767721979803468],
           [15.805549621582031, -3.9743747216697525],
           [15.8477783203125, -3.959647214434904],
           [15.873699188232422, -3.953139627707329],
           [15.888290405273438, -3.942179366227831],
           [15.906486511230469, -3.9180320309113426],
           [15.913352966308594, -3.8909724867903708],
           [15.912322998046875, -3.886519566967587],
           [15.914897918701172, -3.885663233536172],
           [15.913524627685547, -3.875387164607767],
           [15.91644287109375, -3.8639120734365386],
           [15.918846130371094, -3.861000458431996],
           [15.942535400390625, -3.814755827527877],
           [15.96090316772461, -3.7729622415313373],
           [15.969486236572266, -3.7590876956793773],
           [15.97137451171875, -3.759772863625653],
           [15.997982025146484, -3.713694124732601],
           [16.00210189819336, -3.696735171335885],
           [16.01909637451172, -3.662473671531994],
           [16.02802276611328, -3.636605369669981],
           [14.83154296875, -3.5942893972827092],
           [14.842529296875, -4.7420439763629965]]);


var country_KINSHASA = ee.Geometry.Polygon([[14.679107666015625, -5.0266509194528926],
           [16.321563720703125, -5.196261752901775],
           [16.41632080078125, -3.6162185687724726],
           [15.901336669921875, -3.592576158515131],
           [16.041240692138672, -3.636262738162601],
           [16.036434173583984, -3.660417939718184],
           [16.016006469726562, -3.691082114724633],
           [16.01480484008789, -3.7106107028506456],
           [16.009998321533203, -3.719860936176275],
           [16.003646850585938, -3.724828614015678],
           [15.994720458984375, -3.7411018448431186],
           [15.99008560180664, -3.743671274749705],
           [15.9906005859375, -3.7498378757545106],
           [15.981502532958984, -3.7649116060533707],
           [15.972232818603516, -3.7719345049823745],
           [15.967941284179688, -3.7851236982945426],
           [15.964679718017578, -3.7871791389194116],
           [15.95987319946289, -3.806191732964227],
           [15.951118469238281, -3.820921922773688],
           [15.93790054321289, -3.849011350340513],
           [15.931034088134766, -3.858088833441656],
           [15.92742919921875, -3.882237891119354],
           [15.923137664794922, -3.895254118269052],
           [15.922794342041016, -3.9057012075977524],
           [15.914554595947266, -3.925738703222703],
           [15.91094970703125, -3.9288213522370845],
           [15.911121368408203, -3.9351578727633463],
           [15.907001495361328, -3.9372129501528783],
           [15.901165008544922, -3.9526258686839277],
           [15.898418426513672, -3.9551946606170207],
           [15.891551971435547, -3.95536591312949],
           [15.889148712158203, -3.9613597287581275],
           [15.884513854980469, -3.9617022311974663],
           [15.876789093017578, -3.965640999055513],
           [15.87472915649414, -3.9630722395368148],
           [15.872325897216797, -3.965640999055513],
           [15.868549346923828, -3.9661547500013614],
           [15.86202621459961, -3.9661547500013614],
           [15.85275650024414, -3.9695797481428166],
           [15.844001770019531, -3.9748884671803513],
           [15.835075378417969, -3.975744708986678],
           [15.829410552978516, -3.980197152039302],
           [15.811214447021484, -3.9875607550126797],
           [15.806236267089844, -3.9867045254959277],
           [15.795421600341797, -3.987389509180686],
           [15.790271759033203, -3.9843070781054046],
           [15.786323547363281, -3.9860195412404384],
           [15.782032012939453, -3.986190787357817],
           [15.770702362060547, -3.988930720384146],
           [15.746326446533203, -3.9918418892133034],
           [15.739459991455078, -3.991156909240685],
           [15.726585388183594, -3.994581803388256],
           [15.698261260986328, -3.99903414440534],
           [15.684185028076172, -4.0043426732346745],
           [15.680065155029297, -4.003486461234955],
           [15.671138763427734, -4.008452478362005],
           [15.659294128417969, -4.009479926416885],
           [15.651226043701172, -4.012904743937668],
           [15.64401626586914, -4.013589705718849],
           [15.637149810791016, -4.018041943287361],
           [15.619983673095703, -4.0243777779218535],
           [15.610885620117188, -4.025405205922598],
           [15.593719482421875, -4.030713563264757],
           [15.58685302734375, -4.036364357191763],
           [15.581188201904297, -4.038419181599658],
           [15.575695037841797, -4.042700049069437],
           [15.565738677978516, -4.046467193744572],
           [15.558528900146484, -4.046638427177237],
           [15.552349090576172, -4.052974038722267],
           [15.546340942382812, -4.064104046864222],
           [15.536556243896484, -4.068898464595538],
           [15.533466339111328, -4.073007942795014],
           [15.527801513671875, -4.087048501490442],
           [15.522308349609375, -4.089103196795882],
           [15.52042007446289, -4.093726241969361],
           [15.522136688232422, -4.1050269066071],
           [15.520076751708984, -4.1099922996010685],
           [15.52093505859375, -4.11666984831684],
           [15.533981323242188, -4.132764222542468],
           [15.540847778320312, -4.14885827011345],
           [15.540847778320312, -4.1622126564419215],
           [15.53792953491211, -4.169060971869505],
           [15.535354614257812, -4.171457868178142],
           [15.535869598388672, -4.1829286277639595],
           [15.547199249267578, -4.201247253550639],
           [15.552005767822266, -4.217511093523953],
           [15.55166244506836, -4.2380544046172846],
           [15.549430847167969, -4.247298716694964],
           [15.545825958251953, -4.268697161877348],
           [15.5401611328125, -4.276058089279492],
           [15.52591323852539, -4.28752730031518],
           [15.517501831054688, -4.2962574799334075],
           [15.517501831054688, -4.299509874252428],
           [15.520248413085938, -4.304645205439273],
           [15.51046371459961, -4.3169698588567815],
           [15.497074127197266, -4.324159147635019],
           [15.490550994873047, -4.331519539288973],
           [15.480594635009766, -4.336483483927791],
           [15.462055206298828, -4.337510502886112],
           [15.448150634765625, -4.335798803846671],
           [15.441455841064453, -4.338024011841684],
           [15.416736602783203, -4.3411050582421415],
           [15.406436920166016, -4.3387086899060145],
           [15.3863525390625, -4.326042045333613],
           [15.369873046875, -4.322789764551705],
           [15.357341766357422, -4.316456335622656],
           [15.336742401123047, -4.312348137246783],
           [15.333824157714844, -4.310636381366567],
           [15.327644348144531, -4.302933432224437],
           [15.3204345703125, -4.297284553322508],
           [15.312366485595703, -4.296599837883467],
           [15.295543670654297, -4.301392833041043],
           [15.291080474853516, -4.303275787175298],
           [15.286445617675781, -4.303275787175298],
           [15.282154083251953, -4.30053694325945],
           [15.277862548828125, -4.30053694325945],
           [15.274600982666016, -4.3051587366531425],
           [15.269107818603516, -4.311321084181312],
           [15.265159606933594, -4.3161139866069025],
           [15.264301300048828, -4.321933898868272],
           [15.261383056640625, -4.324159147635019],
           [15.258121490478516, -4.327411422538117],
           [15.25177001953125, -4.326213217619593],
           [15.249195098876953, -4.3243303203464425],
           [15.245246887207031, -4.3245014930191905],
           [15.241127014160156, -4.325699700645601],
           [15.236148834228516, -4.326213217619593],
           [15.235633850097656, -4.329294312150354],
           [15.230484008789062, -4.333060077319779],
           [15.225334167480469, -4.332546564991509],
           [15.217781066894531, -4.330834854712597],
           [15.214519500732422, -4.332033052314561],
           [15.211772918701172, -4.339564536613495],
           [15.205764770507812, -4.345555436391952],
           [15.19357681274414, -4.340249213281002],
           [15.188426971435547, -4.340249213281002],
           [15.18636703491211, -4.3520597879678],
           [15.182933807373047, -4.359419907501499],
           [15.177955627441406, -4.366951117995462],
           [15.177440643310547, -4.371059019137522],
           [15.17812728881836, -4.380472874310466],
           [15.176067352294922, -4.392625130300689],
           [15.168514251708984, -4.39861560620614],
           [15.161819458007812, -4.406317575855465],
           [15.157699584960938, -4.411794483521676],
           [15.153236389160156, -4.412650246697066],
           [15.147228240966797, -4.416244441260857],
           [15.143451690673828, -4.423946228101516],
           [15.140361785888672, -4.426855771181994],
           [15.138130187988281, -4.434899742501825],
           [15.129890441894531, -4.442943626233889],
           [15.1226806640625, -4.462796240011046],
           [15.115642547607422, -4.469128426415454],
           [15.114784240722656, -4.476658522827243],
           [15.104656219482422, -4.487782387079086],
           [15.10019302368164, -4.492916421127377],
           [15.089035034179688, -4.49822155166758],
           [15.086803436279297, -4.503526643564133],
           [15.082511901855469, -4.505237955279848],
           [15.072212219238281, -4.5148212264183485],
           [15.061397552490234, -4.522521977594121],
           [15.051097869873047, -4.536040876005368],
           [15.04251480102539, -4.541174568641584],
           [15.030155181884766, -4.543399157440691],
           [15.025520324707031, -4.5550353561590295],
           [15.018482208251953, -4.558115494913721],
           [14.998912811279297, -4.580531662107958],
           [14.989814758300781, -4.594733908470988],
           [14.989986419677734, -4.602776018958132],
           [14.98037338256836, -4.6116735672168065],
           [14.957027435302734, -4.633574749201463],
           [14.954280853271484, -4.641274222461966],
           [14.945526123046875, -4.644525085960288],
           [14.906044006347656, -4.682678834741073],
           [14.90072250366211, -4.694826004905064],
           [14.893684387207031, -4.705262137145269],
           [14.895057678222656, -4.713645146465584],
           [14.889392852783203, -4.722028054654133],
           [14.887676239013672, -4.731608397091891],
           [14.880123138427734, -4.737938193476742]]);

var city_BRAZZAVILLE_temp = ee.Geometry.Polygon([[16.0235595703125, -4.091671558519782],
          [15.944252014160156, -3.8070481462560886],
          [15.901679992675781, -3.801224519083302],
          [15.885887145996094, -3.788206857401627],
          [15.867347717285156, -3.7590876956793773],
          [15.865631103515625, -3.7385324074021655],
          [15.859794616699219, -3.7166062355095146],
          [15.846748352050781, -3.695707345539884],
          [15.835418701171875, -3.672067024195681],
          [15.806236267089844, -3.63746194786864],
          [15.802803039550781, -3.619987591793587],
          [15.787010192871094, -3.6028555428215236],
          [15.747184753417969, -3.5798980917712004],
          [15.714912414550781, -3.5490588195926307],
          [15.693626403808594, -3.5254146798874224],
          [15.655174255371094, -3.5226732913911554],
          [15.640754699707031, -3.5308974326313693],
          [15.618438720703125, -3.566877191890636],
          [15.602989196777344, -3.5870937728523327],
          [15.575523376464844, -3.6408882525204977],
          [15.565223693847656, -3.6515097140330646],
          [15.539817810058594, -3.658019579971823],
          [15.523338317871094, -3.6446571725786603],
          [15.479736328125, -3.597715865162617],
          [15.4302978515625, -3.5679051643857655],
          [15.390815734863281, -3.5463175009986707],
          [15.359573364257812, -3.5391215010320094],
          [15.336227416992188, -3.5326107862271754],
          [15.284385681152344, -3.4928601714481537],
          [15.280952453613281, -3.475040382756404],
          [15.25726318359375, -3.4534505726604148],
          [15.245590209960938, -3.5099942646621862],
          [15.230827331542969, -3.54563217007987],
          [15.221214294433594, -3.581954006425621],
          [15.21881103515625, -3.6042261186294713],
          [15.214004516601562, -3.6381472098414376],
          [15.215034484863281, -3.6796045861273607],
          [15.2105712890625, -3.690910809416865],
          [15.206451416015625, -3.709411591434217],
          [15.188255310058594, -3.766967094534875],
          [15.186882019042969, -3.7971136997497155],
          [15.16937255859375, -3.825889022828324],
          [15.161819458007812, -3.82999970454646],
          [15.149803161621094, -3.834452920793657],
          [15.142593383789062, -3.8460996843111204],
          [15.109634399414062, -3.8735032050849747],
          [15.09521484375, -3.8906299553316384],
          [15.090408325195312, -3.909811502195146],
          [15.095901489257812, -3.9252249272801887],
          [15.111351013183594, -3.992013134117186],
          [15.111351013183594, -4.023179110282761],
          [15.107231140136719, -4.043727453899421],
          [15.100364685058594, -4.071809347153947],
          [15.084915161132812, -4.101602479649641],
          [15.0677490234375, -4.131736931806308],
          [15.068778991699219, -4.1529673361424795],
          [15.066032409667969, -4.194399219397546],
          [15.045089721679688, -4.233432207115825],
          [15.031356811523438, -4.247469906615491],
          [15.026893615722656, -4.26732767922037],
          [15.017280578613281, -4.274859803587346],
          [14.99908447265625, -4.303275787175298],
          [14.991188049316406, -4.322105072082261],
          [14.991874694824219, -4.348807619198921],
          [14.971961975097656, -4.3731129612677035],
          [14.994621276855469, -4.405975267786311],
          [14.995994567871094, -4.412821399213799],
          [15.025863647460938, -4.461084828900922],
          [15.041313171386719, -4.466219050260411],
          [15.050926208496094, -4.478883309217953],
          [15.05401611328125, -4.499419479023639],
          [15.071525573730469, -4.512767678962955]]) ;          

var island_geo = ee.Geometry.Polygon([[15.327987670898438, -4.268354791442122],
          [15.353736877441406, -4.274175068065024],
          [15.386009216308594, -4.283761309678765],
          [15.407981872558594, -4.293347431154177],
          [15.4248046875, -4.291293272393642],
          [15.432014465332031, -4.289581469205042],
          [15.458106994628906, -4.294032149512534],
          [15.467376708984375, -4.282391853940271],
          [15.46051025390625, -4.27451743590264],
          [15.469779968261719, -4.263561589322062],
          [15.476646423339844, -4.243361338041741],
          [15.474586486816406, -4.235486520525894],
          [15.475959777832031, -4.213573563450947],
          [15.483856201171875, -4.175566816261949],
          [15.481452941894531, -4.169060971869505],
          [15.473213195800781, -4.152282493289667],
          [15.469779968261719, -4.141324926889831],
          [15.456047058105469, -4.141324926889831],
          [15.436477661132812, -4.131736931806308],
          [15.428237915039062, -4.145434032092607],
          [15.415534973144531, -4.158103638586351],
          [15.391159057617188, -4.161870239106071],
          [15.37261962890625, -4.172827519928444],
          [15.349273681640625, -4.1920023932579245],
          [15.34515380859375, -4.213915958162023],
          [15.338973999023438, -4.218024682932304],
          [15.327644348144531, -4.258768357307995],
          [15.313568115234375, -4.2700666420910744]]);
          
var city_BRAZZAVILLE = city_BRAZZAVILLE_temp.intersection(country_BRAZZAVILLE);  
var city_feature_BRAZZAVILLE = ee.Feature(city_BRAZZAVILLE, {code: 10, name: 'city_brazzaville'});
Map.addLayer(city_feature_BRAZZAVILLE, {}, 'city_brazzaville');

var island_feature = ee.Feature(island_geo, {code: 99, name:'island'});
Map.addLayer(island_feature, {}, 'island');
    
var country_feature_KINSHASA = ee.Feature(country_KINSHASA, {code: 100, name:'congo_kinshasa'});
Map.addLayer(country_feature_KINSHASA, {}, 'country_kinshasa');

var country_feature_BRAZZAVILLE = ee.Feature(country_BRAZZAVILLE, {code: 200, name:'congo_brazzaville'});
Map.addLayer(country_feature_BRAZZAVILLE, {}, 'country_brazzaville');

var total_area_feature = ee.Feature(export_geometry, {code: 900, name:'total_area'});

var feature_collection = ee.FeatureCollection([country_feature_KINSHASA, country_feature_BRAZZAVILLE, total_area_feature])
var Country_image = feature_collection.reduceToImage( {properties:['code'], reducer: ee.Reducer.min() });
var Country_image = Country_image.toDouble();

var feature_collection2 = ee.FeatureCollection([city_feature_BRAZZAVILLE, island_feature ]);
var details_image = feature_collection2.reduceToImage( {properties:['code'], reducer: ee.Reducer.sum() } );
var details_image = details_image.toDouble();

Map.setCenter(15.3013891, -4.3854713);

// Now collapse and make into an image
print("Country_image:", Country_image);
print("details_image:", details_image);
var export_geometrySMALL = ee.Geometry.Rectangle([15.1968, -4.3029, 15.2731, -4.3601]);

Export.image.toDrive({
  image: Country_image,
  description: 'country_boundaries',
  scale: 30,
  region: export_geometry
});

Export.image.toDrive({
  image: details_image,
  description: 'details_boundaries',
  scale: 30,
  region: export_geometry
});

